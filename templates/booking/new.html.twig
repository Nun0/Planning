{% extends 'base_back.html.twig' %}

{% block title %}New Booking{% endblock %}

{% block body %}
<div style="background-color: #D1D1D1; min-height:100vh">
    <div class="container" style="max-width:30vw">
        <div class="d-flex justify-content-center pt-4">
            <h1>Nouvelle Mission</h1>
        </div>
        <div class="d-flex justify-content-start pb-3">
            <a class="btn btn-primary" href="{{ path('app_booking_index') }}">Retour Ã  la liste</a>
        </div>
        {{ include('booking/_form.html.twig') }}
    </div>
</div>
{% endblock %}
{# {% block javascripts %}
<script>
        document.addEventListener('DOMContentLoaded', function() {
            const centre = document.getElementById('booking_centre');
            centre.addEventListener('change', function(e) {
                const form = centre.closest('form');
                fetch(form.action, {
                    method: form.method,
                    body: new FormData(form)
                })
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const newPromoField = doc.getElementById('booking_promo');
                    newPromoField.addEventListener('change', function(e) {
                        e.target.classList.remove('is-invalid');
                    });
                    document.getElementById('booking_promo').replaceWith(newPromoField);
                })
                .catch(function (err) {
                    console.warn('Something went wrong.', err);
                });
            });
        });
    </script>
{% endblock %} #}
